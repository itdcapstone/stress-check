<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- My CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='admin/styles.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='admin/admin_styles/dashboard.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='admin/admin_styles/toast.css') }}">
	<link rel="icon" href="{{ url_for('static', filename='assets/stress check.png') }}" type="image/x-icon">
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

	<title>Admin Dashboard</title>

	<style>

	</style>
</head>
<body>

	<!-- SIDEBAR -->
	<section id="sidebar">
		<nav>
		<a href="#" class="brand">
			<i class='bx bx-badge-check'></i>
			<span class="text">Stress Check</span>
		</a>
		<ul class="side-menu top">
			<li class="active">
				<a href="#">
					<i class='bx bxs-dashboard' ></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="{{ url_for('management') }}">
					<i class='bx bxs-user-detail'></i>
					<span class="text">User Management</span>
				</a>
			</li>
			<li>
				<a href="{{ url_for('data') }}">
					<i class='bx bxs-data'></i>
					<span class="text">Data Management</span>
				</a>
			</li>
			<li>
				<a href="{{ url_for('edit_recommendation') }}">
					<i class='bx bxs-check-circle'></i>
					<span class="text">Recommendation</span>
				</a>
			</li>
			<li>
				<a href="{{ url_for('stress_questions') }}">
					<i class='bx bxs-message-square-edit'></i>
					<span class="text">Questionnaires</span>
				</a>
			</li>
			<li>
				<a href="{{ url_for('admin_feedback') }}">
					<i class='bx bxs-user-pin'></i>
					<span class="text">User Feedback</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			
			<li>
				<a href="{{ url_for('admin_logout') }}" class="logout">
					<i class='bx bxs-log-out-circle' ></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
		</nav>
	</section>
	<!-- SIDEBAR -->

	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class="bx bx-menu"></i>
			<form action="#">
			  
		  </nav>
		<!-- NAVBAR -->
		<div id="toast"></div>

	<!-- MAIN -->
	<main>
		<div class="head-title">
			<div class="left">
				<h1> Admin Dashboard</h1>
				<ul class="breadcrumb">
					<li>
						<a href="#">Dashboard</a>
					</li>
					<li><i class='bx bx-chevron-right' ></i></li>
					<li>
						<a class="active" href="#">Overview</a>
					</li>
				</ul>
			</div>
		</div>

		<div id="toast"></div>
		
		<div class="dashboard-overview">
			<div class="overview-card">
				<i class='bx bxs-user'></i>
				<h3>{{ user_count }}</h3>
				<p>Users Registered</p>
			</div>
			<div class="overview-card">
				<i class='bx bxs-calendar-check' ></i>
				<h3><h3>{{ assessment_count }}</h3></h3>
				<p>Recent Assessments</p>
			</div>
			<div class="overview-card">
				<i class='bx bxs-bell' ></i>
				<h3>{{ feedbacks_count }}</h3>
				<p>Feedbacks</p>
			</div>
		</div>

		<div class="dashboard-overview-graph">
			<div class="overview-card-graph">
				<h3>Stressor Percentage</h3>
				<div class="scrollable-container">
						<div style="width: 100%; margin: auto;">
							<canvas id="stressorBarChart"></canvas>
						</div>
				</div>
			</div>
		
			<div class="overview-card-piechart">
				<h3>Overview of Student Stress Levels</h3>
				<div id="piechart" style="width: 100%; height: 300px;"></div>
			</div>
		</div>
	</div>

		
		<!-- Chart.js Script for Bar Chart -->
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		
		
		<script type="application/json" id="stressor-data">
			{{ stressor_data | tojson }}
		</script>
		<script type="application/json" id="stress-level-data">
			{{ stress_level_data | tojson }}
		</script>
	
		<!-- Other HTML elements remain unchanged -->
	
		<!-- Import external JavaScript files -->
		<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
		<script src="{{ url_for('static', filename='admin_scripts/dashboard.js') }}"></script>
		
        </main>
        <!-- END MAIN -->
    </section>

	<script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>